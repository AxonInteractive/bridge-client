<DOCTYPE html>
<html>
  <head>
    <title>AxonBridge Example</title>
  </head>
  <body>

    <!-- Manually include jQuery, since it's huge and CDN-able -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
    
    <!-- Include the main Axon Bridge client library -->
    <script type="text/javascript" src="../lib/bridge-client.js"></script>
    
    <!-- Include your own API definition library -->
    <script type="text/javascript" src="api.js"></script>
    
    <!-- Do something with your API! -->
    <script type="text/javascript">
      
      // AxonBridge Initialization
      // This function bootstraps the module with the required constructor arguments.
      ( function () {
      
          // =====
          // SETUP
          // =====

          // Link to your API by supplying appropriate constructor arguments:
          //                API  ============= API URL ============== TIMEOUT
          AxonBridge.init( 'https://192.168.2.34:3000/api/1.0/', 10000 );

          // You can listen for each request if necessary
          AxonBridge.requestCallback = function ( method, resource, payload ) {
            console.log( "Request >> " + method + " resource " + resource + " = " + JSON.stringify( payload ) );
          };

          // =====
          // USAGE
          // =====

          // Send a login request to fetch a user object from your API:
          api.login.get( 'first@domain.com', 'gr33np3pp3r', true );


          /*
          // Subsequest requests will sent using the logged-in user to authenticate:
          AxonBridge.request( 'PUT', 'actions', {

              'type': 'view',
              'target': 'pretest',
              'time': new Date() // Parses into ISO-8061 date string format, thanks to json3.js.

          } ).done( function ( data, textStatus, jqXHR ) {

          // AxonBridge.request() returns a jqXHR instance, which implements the
          // JavaScript Promise interface, so you can asynchronously handle responses as:
          
          // Success...
          console.log( "Status: " + textStatus );

          } ).fail( function ( jqXHR, textStatus, errorThrown ) {

          // Failure...
          console.log( "Status: " + textStatus );

          } ).always( function () {

            // The user can log out when they're done, if they like.
            AxonBridge.logout();

          } );
          */

      } )();
      
    </script>
  </body>
</html>